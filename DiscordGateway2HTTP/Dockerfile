FROM node:latest
ARG APPLICATION_VERSION
WORKDIR /application

COPY package.json ./
RUN npm install
COPY . .

ENV SHARD_INDEX=0
ENV SHARD_COUNT=1
ENV PORT=8080

ENV SERVICE_NAME="Philbot Discord Gateway 2 HTTP"
ENV SERVICE_VERSION=$APPLICATION_VERSION
CMD exec node discordgateway2http.js

EXPOSE 8080
